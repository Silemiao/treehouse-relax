(()=>{var e={};e.id=806,e.ids=[806],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2708:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),s(7044),s(2029),s(5866);var r=s(3191),n=s(8716),i=s(7922),a=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["games",{children:["2048",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7044)),"C:\\Users\\20267\\Desktop\\project3\\src\\app\\games\\2048\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\20267\\Desktop\\project3\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\20267\\Desktop\\project3\\src\\app\\games\\2048\\page.tsx"],c="/games/2048/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/games/2048/page",pathname:"/games/2048",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7445:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},2621:()=>{},3304:(e,t,s)=>{Promise.resolve().then(s.bind(s,5453))},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6670:(e,t)=>{"use strict";function s(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5453:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(326),n=s(7577),i=s(5047),a=s(6670),l=s.n(a);let o=e=>{switch(e){case 2:return"bg-yellow-100 text-gray-700";case 4:return"bg-yellow-200 text-gray-700";case 8:return"bg-orange-300 text-white";case 16:return"bg-orange-400 text-white";case 32:return"bg-orange-500 text-white";case 64:return"bg-orange-600 text-white";case 128:return"bg-yellow-400 text-white";case 256:return"bg-yellow-500 text-white";case 512:return"bg-green-500 text-white";case 1024:return"bg-green-600 text-white";case 2048:return"bg-blue-600 text-white";default:return"bg-blue-700 text-white"}};function d(){let e=(0,i.useRouter)(),[t,s]=(0,n.useState)([]),[a,d]=(0,n.useState)(0),[u,c]=(0,n.useState)(0),[x,p]=(0,n.useState)(!1),[h,m]=(0,n.useState)(null),[g,f]=(0,n.useState)(null),[b,v]=(0,n.useState)(!1),j=e=>{let t=[];for(let s=0;s<4;s++)for(let r=0;r<4;r++)e.some(e=>e.position[0]===s&&e.position[1]===r)||t.push([s,r]);if(t.length>0){let s=t[Math.floor(Math.random()*t.length)];e.push({value:.9>Math.random()?2:4,id:Date.now().toString()+Math.random(),position:s})}},w=e=>{for(let t=0;t<4;t++)for(let s=0;s<4;s++)if(!e.some(e=>e.position[0]===t&&e.position[1]===s))return!1;for(let t=0;t<4;t++)for(let s=0;s<4;s++){let r=e.find(e=>e.position[0]===t&&e.position[1]===s);if(r){if(s<3){let n=e.find(e=>e.position[0]===t&&e.position[1]===s+1);if(n&&n.value===r.value)return!1}if(t<3){let n=e.find(e=>e.position[0]===t+1&&e.position[1]===s);if(n&&n.value===r.value)return!1}}}return!0},y=e=>{b||s(t=>{let s=[...t],r=!1,n=a,i=t=>"up"===e||"down"===e?s.filter(e=>e.position[1]===t).sort((t,s)=>"up"===e?t.position[0]-s.position[0]:s.position[0]-t.position[0]):s.filter(e=>e.position[0]===t).sort((t,s)=>"left"===e?t.position[1]-s.position[1]:s.position[1]-t.position[1]),l=e=>{let t=[],s=0;for(;s<e.length;)if(s+1<e.length&&e[s].value===e[s+1].value){let i=2*e[s].value;t.push({value:i,id:Date.now().toString()+Math.random(),position:e[s].position}),n+=i,s+=2,r=!0}else t.push(e[s]),s+=1;return t},o=(t,s)=>{let r=[];return t.forEach((t,n)=>{r.push({...t,position:"up"===e||"down"===e?["up"===e?n:3-n,s]:[s,"left"===e?n:3-n]})}),r};for(let e=0;e<4;e++){let t=i(e);if(t.length>0){let n=o(l(t),e);(s=s.filter(e=>!t.some(t=>t.id===e.id))).push(...n),t.length!==n.length&&(r=!0)}}return r&&(j(s),d(n),w(s)&&(v(!0),setTimeout(()=>{alert(`游戏结束！最终得分：${n}`)},100))),s})},N=e=>{x&&!b&&(h===e?(s(t=>{let s=t.find(t=>t.id===e);if(!s)return t;d(e=>Math.max(0,e-s.value));let r=t.filter(t=>t.id!==e);return 0===r.length?j(r):.3>Math.random()&&j(r),r}),m(null)):m(e))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[r.jsx("title",{children:"2048 - 树屋解压"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"})]}),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 p-4",onTouchStart:e=>{let t=e.touches[0];f({x:t.clientX,y:t.clientY})},onTouchEnd:e=>{if(!g)return;let t=e.changedTouches[0],s=t.clientX-g.x,r=t.clientY-g.y;(Math.abs(s)>50||Math.abs(r)>50)&&(Math.abs(s)>Math.abs(r)?y(s>0?"right":"left"):y(r>0?"down":"up")),f(null)},children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("button",{onClick:()=>e.back(),className:"text-gray-600 hover:text-gray-800 p-2 -ml-2",children:"← 返回"}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["最高分: ",u]}),(0,r.jsxs)("div",{className:"text-lg font-bold text-orange-600",children:["得分: ",a]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between mb-4 gap-2",children:[r.jsx("button",{onClick:()=>{let e=[];j(e),j(e),s(e),d(0),v(!1),m(null)},className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 flex-1",children:"重新开始"}),r.jsx("button",{onClick:()=>p(!x),className:`px-4 py-2 rounded-lg flex-1 ${x?"bg-red-500 text-white":"bg-gray-200 text-gray-700"}`,children:x?"退出作弊":"作弊模式"})]}),(0,r.jsxs)("div",{className:"max-w-md mx-auto mb-4 flex justify-between items-center bg-white/80 backdrop-blur-sm rounded-xl p-4 shadow-md",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm",children:"当前分数"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:a})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm",children:"最高分数"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u})]})]}),r.jsx("div",{className:"relative w-full max-w-md mx-auto aspect-square bg-white/80 backdrop-blur-sm rounded-xl p-2 mb-4 shadow-lg",children:t.map(e=>r.jsx("div",{className:`absolute w-1/4 h-1/4 p-1 transition-all duration-100 
                  ${x?"cursor-pointer hover:scale-105":""}
                  ${x&&h===e.id?"ring-2 ring-red-500":""}`,style:{transform:`translate(${100*e.position[1]}%, ${100*e.position[0]}%)`},onClick:()=>N(e.id),children:r.jsx("div",{className:`w-full h-full flex items-center justify-center
                    rounded-lg text-2xl font-bold shadow-md
                    ${o(e.value)}
                    transition-all duration-200 
                    ${x?"hover:opacity-75":""}`,children:e.value})},e.id))}),r.jsx("div",{className:"max-w-md mx-auto text-center text-gray-500 text-sm",children:b?r.jsx("p",{className:"text-red-500 font-bold",children:'游戏结束！点击"重新开始"继续游戏'}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{children:"使用方向键或滑动屏幕移动方块"}),x&&r.jsx("p",{className:"mt-1 text-green-500",children:"点击方块两次将其消除"})]})})]})})]})}},7044:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\20267\Desktop\project3\src\app\games\2048\page.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>a});var r=s(9510),n=s(5384),i=s.n(n);s(5023);let a={title:"树屋解压站",description:"一个帮助你放松和解压的温馨小站"};function l({children:e}){return r.jsx("html",{lang:"zh",children:(0,r.jsxs)("body",{className:`${i().className} bg-gradient-to-br from-green-50 to-blue-50`,children:[r.jsx("div",{className:"fixed inset-0 -z-10",children:r.jsx("div",{className:"absolute inset-0 bg-[url('/images/tree-bg.svg')] opacity-10 bg-repeat animate-float"})}),e]})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[935],()=>s(2708));module.exports=r})();